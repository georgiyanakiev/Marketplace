@model List<Marketplace.Entities.Auction>

    <div class="row">
        <div class="col-lg-12" id="listingArea">
             <div class="float-left">
                <h2>
                    Auctions
                </h2>
            </div>
            <br>
            <div class="float-right">
                <button id="createButton" class="btn btn-outline-success">New Auction</button>
            </div>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>
                            Title
                        </th>
                        <th>
                            Description
                        </th>
                        <th>
                            Actual Amount
                        </th>
                        <th>
                            Start Time
                        </th>
                        <th>
                            End Time
                        </th>
                        <th>
                            Actions
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var auction in Model)
                    {
                        <tr>
                            <td>
                                <input type="hidden" value="@auction.ID" />
                                @auction.Title

                            </td>
                            <td>
                                @auction.Description
                            </td>
                            <td>
                                @auction.ActualAmount
                            </td>
                            <td>
                                @auction.StartTime
                            </td>
                            <td>
                                @auction.EndTime
                            </td>
                            <td>
                                <button class="editButton btn btn-outline-primary" data-id="@auction.ID">Edit</button>
                                <button class="deleteButton btn btn-outline-danger" data-id="@auction.ID">Delete</button>

                            </td>
                        </tr>
                    }

                </tbody>

            </table>

            <div id="contentArea">

            </div>
            <script>
                $("#createButton").click(function () {
                    $.ajax({
                        url: "/Auctions/Create",
                        method: "get"
                    }).done(function (response) {

                        $("#listingArea").html(response);
                    });
                });

                $(".editButton").click(function () {
                    $.ajax({
                        url: "/Auctions/Edit",
                        method: "get",
                        data: {
                            ID: $(this).attr("data-id")
                        }
                    }).done(function (response) {

                        $("#listingArea").html(response);
                    })
                });

                $(".deleteButton").click(function () {

                    var result = confirm("Are you sure you want to delete this Auction?")

                    if (result == true) {
                        $.ajax({
                            url: "/Auctions/Delete",
                            method: "post",
                            data: {
                                ID: $(this).attr("data-id")
                            }
                        }).done(function (response) {

                            $("#listingArea").html(response);
                        });
                    }
                });
            </script>
        </div>
    </div>




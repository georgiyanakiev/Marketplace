@model List<Marketplace.Entities.Auction>

<div class="row">

</div>

<div id="listingArea">
<table>
    <thead>
        <tr>
            <td>
                Title
            </td>
            <td>
                Description
            </td>
            <td>
                Actual Amount
            </td>
            <td>
                Start Time
            </td>
            <td>
                End Time
            </td>
            <td>
                Actions
            </td>
        </tr>
    </thead>
    <tbody>
        @foreach (var auction in Model)
        {
        <tr>
            <td>
                <input type="hidden" value="@auction.ID" />
                @auction.Title

            </td>
            <td>
                @auction.Description
            </td>
            <td>
                @auction.ActualAmount
            </td>
            <td>
                @auction.StartTime
            </td>
            <td>
                @auction.EndTime
            </td>
            <td>
                <button class="editButton" data-id="@auction.ID">Edit</button>
                <button class="deleteButton" data-id="@auction.ID">Delete</button>

            </td>
        </tr>
        }

    </tbody>

</table>
<div>
    <button id="createButton">New Auction</button>
</div>
</div>

<div id="contentArea">

</div>

<script>
    $("#createButton").click(function () {
        $.ajax({
            url: "/Auctions/Create",
            method: "get"
        }).done(function (response) {

            $("#contentArea").html(response);
        });
    });

    $(".editButton").click(function () {
        $.ajax({
            url: "/Auctions/Edit",
            method: "get",
            data: {
                ID: $(this).attr("data-id")
            }
        }).done(function (response) {

            $("#contentArea").html(response);
        })
    });

    $(".deleteButton").click(function () {

        var result = confirm("Are you sure you want to delete this Auction?")

        if (result == true)
        {
            $.ajax({
                url: "/Auctions/Delete",
                method: "post",
                data: {
                    ID: $(this).attr("data-id")
                }
                }).done(function (response) {

                    $("#listingArea").html(response);
                });
                }
              });
</script>